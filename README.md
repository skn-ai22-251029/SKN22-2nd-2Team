# KKBox êµ¬ë… ì´íƒˆ ê´€ë¦¬ ì‹œìŠ¤í…œ (Churn Control Center)

## í”„ë¡œì íŠ¸ ê°œìš”
ë³¸ í”„ë¡œì íŠ¸ëŠ” **KKBox** ìŒì› ìŠ¤íŠ¸ë¦¬ë° ì„œë¹„ìŠ¤ì˜ ì‚¬ìš©ì ì´íƒˆì„ ë°©ì§€í•˜ê³  êµ¬ë… ìœ ì§€ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ê°œë°œëœ **ì´íƒˆ ì˜ˆì¸¡ ë° ê´€ë¦¬ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤.
ë°ì´í„° ì „ì²˜ë¦¬, íŒŒìƒ ë³€ìˆ˜ ìƒì„±, ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ë§ ê³¼ì •ì„ ê±°ì³ ì´íƒˆ ê°€ëŠ¥ì„±ì´ ë†’ì€ ì‚¬ìš©ìë¥¼ ì¡°ê¸°ì— ì‹ë³„í•˜ê³ , Streamlit ê¸°ë°˜ì˜ ëŒ€ì‹œë³´ë“œë¥¼ í†µí•´ ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.


## SKN22-2nd-2Team "ì—ìš©"
- ì•ˆë¯¼ì œ, ì„ë„í˜•, ì´ê·œë¹ˆ, ì´ë„í›ˆ, ê¹€í¬ì¤€
- 25.12.22

## ì‚¬ìš© ê¸°ìˆ  (Tech Stack)

### Languages & Libraries
<div align="left">
  <img src="https://img.shields.io/badge/python-3776AB?style=for-the-badge&logo=python&logoColor=white">
  <img src="https://img.shields.io/badge/pandas-150458?style=for-the-badge&logo=pandas&logoColor=white">
  <img src="https://img.shields.io/badge/numpy-013243?style=for-the-badge&logo=numpy&logoColor=white">
  <img src="https://img.shields.io/badge/scikit_learn-F7931E?style=for-the-badge&logo=scikit-learn&logoColor=white">
  <img src="https://img.shields.io/badge/CatBoost-E9711C?style=for-the-badge&logo=CatBoost&logoColor=white">
  <img src="https://img.shields.io/badge/Optuna-5E87F5?style=for-the-badge&logo=lightning&logoColor=white">
</div>

### Dashboard & Visualization
<div align="left">
  <img src="https://img.shields.io/badge/streamlit-FF4B4B?style=for-the-badge&logo=streamlit&logoColor=white">
  <img src="https://img.shields.io/badge/plotly-3F4F75?style=for-the-badge&logo=plotly&logoColor=white">
  <img src="https://img.shields.io/badge/seaborn-76B900?style=for-the-badge&logo=seaborn&logoColor=white">
  <img src="https://img.shields.io/badge/matplotlib-0B579E?style=for-the-badge&logo=matplotlib&logoColor=white">
</div>

### Development Environment
<div align="left">
  <img src="https://img.shields.io/badge/Visual%20Studio%20Code-007ACC?style=for-the-badge&logo=Visual%20Studio%20Code&logoColor=white">
  <img src="https://img.shields.io/badge/Jupyter-F37626?style=for-the-badge&logo=Jupyter&logoColor=white">
</div>

 **ë§ˆì¼€íŒ… ì‹œë®¬ë ˆì´í„° (Marketing Simulator)**: íƒ€ê²ŸíŒ… ë²”ìœ„ì— ë”°ë¥¸ ê¸°ëŒ€ íš¨ê³¼(Lift)ì™€ ë¹„ìš©ì„ **ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹œë®¬ë ˆì´ì…˜**í•˜ì—¬ ìµœì ì˜ ë§ˆì¼€íŒ… ì „ëµ ìˆ˜ë¦½ì„ ì§€ì›í•©ë‹ˆë‹¤.

---

## ì„œë¹„ìŠ¤ ë¡œì§ ë° í˜ì´ì§€ êµ¬ì„± (Service Logic & Pages)
ë³¸ í”„ë¡œì íŠ¸ëŠ” **Streamlit**ì„ í™œìš©í•˜ì—¬ ë°ì´í„° ë¶„ì„ ê²°ê³¼ë¥¼ ì‹œê°í™”í•˜ê³  íƒ€ê²ŸíŒ… ì „ëµì„ ìˆ˜ë¦½í•  ìˆ˜ ìˆëŠ” ëŒ€ì‹œë³´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤. (ìƒì„¸ ëª…ì„¸: [docs/page_specification.md](docs/page_specification.md))

| í˜ì´ì§€ (Page) | í•µì‹¬ ê¸°ëŠ¥ (Key Function) | ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ (Business Value) |
| :--- | :--- | :--- |
| **0. Home (Overview)** | ë°ì´í„° ë¶„ì„ ë²”ìœ„ ë° í•µì‹¬ íŒŒìƒ ë³€ìˆ˜ ëª…ì„¸ ì •ì˜ | ì˜ˆì¸¡ì˜ ì‹ ë¢°ë„ ë° íˆ¬ëª…ì„± í™•ë³´ |
| **2. Model Guideline** | ì´íƒˆ ì‹œê·¸ë„ ì‚¬ì „ ë° ë§ˆì¼€íŒ… ê°œì… ì§€ë„ ì œê³µ | ìœ„í—˜ ì§•í›„ì— ëŒ€í•œ ëª…í™•í•œ íŒë‹¨ ê¸°ì¤€ ì œì‹œ |
| **3. Model Explainability** | Two-Track ëª¨ë¸ ì „ëµ ì„¤ëª… ë° í–‰ë™ í¸ì°¨(Z-Score) ë¶„ì„ | ëª¨ë¸ì˜ "Why"ë¥¼ ì„¤ëª…í•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ì„¤ë“ë ¥ ì œê³  |
| **4. Risk Matrix** | ì´ë ¥(Status) vs í–‰ë™(Behavior) 4ë¶„ë©´ ì„¸ê·¸ë¨¼íŠ¸ ë¶„ì„ | ë‹¨ìˆœ ì´íƒˆ í™•ë¥ ì„ ë„˜ì–´ì„  ì…ì²´ì  ê³ ê° ë¶„ë¥˜ |
| **5. Marketing Simulator** | ì‹¤ì‹œê°„ íƒ€ê²ŸíŒ… ì‹œë®¬ë ˆì´ì…˜ ë° ìë™ ì²˜ë°©(Auto-Prescription) | ë§ˆì¼€íŒ… ROI ìµœì í™” ë° ì‹¤í–‰ ê°€ëŠ¥í•œ ì•¡ì…˜ í”Œëœ ì œê³µ |

---

## ë¶„ì„ ë° ê°œë°œ í”„ë¡œì„¸ìŠ¤ (Process)

### 1. ë°ì´í„° ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ (Preprocessing Pipeline V1~V4)
ëª¨ë¸ ì„±ëŠ¥ê³¼ í•™ìŠµ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•˜ê¸° ìœ„í•´ 4ë‹¨ê³„ì˜ ì²´ê³„ì ì¸ ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.

#### **V1: ëŒ€ìš©ëŸ‰ ë°ì´í„° ìµœì í™” (Optimization & Aggregation)**
- **ì°¸ê³ **: `notebooks/preprocessing/optimize_user_logs_aggregated.ipynb`
- **ëª©ì **: 3ì–µ ê±´ ì´ìƒì˜ `user_logs` ë°ì´í„°ë¥¼ ë¡œì»¬ í™˜ê²½ì—ì„œ ì²˜ë¦¬ ê°€ëŠ¥í•˜ë„ë¡ ê²½ëŸ‰í™”.
- **ë‚´ìš©**: 
    - ë°ì´í„° íƒ€ì… ë‹¤ìš´ìºìŠ¤íŒ… (Float64 â†’ Float32, Int64 â†’ UInt)ìœ¼ë¡œ ë©”ëª¨ë¦¬ ìš©ëŸ‰ **70% ì ˆê°**.
    - ì¼ë³„ ë¡œê·¸ ë°ì´í„°ë¥¼ ì£¼ê°„(W7, W14, W30) ë‹¨ìœ„ë¡œ ì§‘ê³„(Aggregating)í•˜ì—¬ í”¼ì²˜ ì°¨ì› ì¶•ì†Œ.

#### **V2: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì •ì œ (Leakage-Safe Transactions)**
- **ì°¸ê³ **: `notebooks/preprocessing/transactions_v2_aggregation.ipynb`
- **ëª©ì **: ë³µì¡í•œ ê²°ì œ ì´ë ¥(`transactions`)ì—ì„œ ìœ íš¨í•œ êµ¬ë… ìƒíƒœë¥¼ ì •ì˜í•˜ê³  **Time-Series Leakage** ë°©ì§€.
- **ë‚´ìš©**: 
    - **Payment/Cancel ì •ì˜**: ì‹¤ì œ ì§€ë¶ˆ ê¸ˆì•¡ > 0ì¸ ê²½ìš°ë§Œ ê²°ì œë¡œ ì¸ì •.
    - **Cutoff Date ì ìš©**: ì˜ˆì¸¡ ì‹œì (2017-04-01) ì´ì „ì˜ ë°ì´í„°ë§Œ ì‚¬ìš©í•˜ì—¬ ë¯¸ë˜ ì •ë³´ ì°¸ì¡° ë°©ì§€.

#### **V3: í†µí•© í•™ìŠµ í…Œì´ë¸” êµ¬ì¶• (Wide Table Construction)**
- **ì°¸ê³ **: `notebooks/preprocessing/build_train_feature_table.ipynb`
- **ëª©ì **: ëª¨ë¸ì— ì£¼ì…í•  ìˆ˜ ìˆëŠ” í˜•íƒœì˜ ë‹¨ì¼ Base Table ìƒì„±.
- **ë‚´ìš©**: 
    - Members + Transactions(V2) + User Logs(V1) ì„ **msno** ê¸°ì¤€ INNER JOIN.
    - ê²°ì¸¡ì¹˜(NaN)ì— ëŒ€í•œ ì „ëµì  ëŒ€ì²´ (ì˜ˆ: ë¡œê·¸ ì—†ìŒ â†’ í™œë™ ì—†ìŒìœ¼ë¡œ ê°„ì£¼í•˜ì—¬ 0 ì²˜ë¦¬).

#### **V4: ì „ëµì  íŒŒìƒ ë³€ìˆ˜ (Strategic Feature Engineering)**
- **ì°¸ê³ **: `notebooks/preprocessing/build_train_feature_v4.ipynb`
- **ëª©ì **: ë‹¨ìˆœ ì§‘ê³„ ë³€ìˆ˜(V3)ë¥¼ ë„˜ì–´ì„  ìœ ì €ì˜ **í–‰ë™ ë³€í™”**ì™€ **ì†ì„±** í¬ì°©.
- **ë‚´ìš©**:
    - **Trend Features**: í™œë™ ê°ì†Œìœ¨(`active_decay_rate`), ì²­ì·¨ ê°€ì†ë„(`listening_velocity`) ë“± ì‹œê³„ì—´ ë³€í™”ëŸ‰ ê³„ì‚°.
    - **Context Features**: ìŠ¤í‚µ ì„±í–¥(`skip_passion_index`), íƒìƒ‰ ì§€ìˆ˜(`discovery_index`) ë“± ìœ ì € í–‰ë™ íŒ¨í„´ ì •ëŸ‰í™”.
    - **Filtering**: ë³€ìˆ˜ ì¤‘ìš”ë„(Feature Importance) ë° ê²°ì¸¡ ë¹„ìœ¨ì— ë”°ë¥¸ ë¶ˆí•„ìš”í•œ ì»¬ëŸ¼ ì œê±°.

### 2. ëª¨ë¸ ê³ ë„í™” ì „ëµ (Modeling Strategy V4 & V5.2)
- **V5.2 (Safe Context)**: ê²°ì œ ìƒíƒœ(Status) ì •ë³´ë¥¼ ë°°ì œí•˜ê³ , ìœ ì €ì˜ ì„±í–¥(Context)ê³¼ ìˆœìˆ˜ í–‰ë™ íŒ¨í„´ì— ì§‘ì¤‘í•˜ì—¬ ê³¼ì í•©ì„ ë°©ì§€í•˜ê³  ì¡°ê¸° ê²½ë³´ ëŠ¥ë ¥ì„ ê°•í™”í–ˆìŠµë‹ˆë‹¤.

### 3. ëª¨ë¸ ì„ ì •ì„ ìœ„í•œ ì‹¤í—˜ (Model Selection Experiments)
- **ì‹¤í—˜ ê³„íš**: `02_training_report/model_experiment_plan.md` (Feature Ablation)
- **ì‹¤í—˜ ë‹¨ê³„ ë° íŒ©íŠ¸ ìš”ì•½**:
    - **e0 (Baseline)**: ì „ì²´ ì»¬ëŸ¼ ì‚¬ìš©. ëª¨ë¸ì´ ë‹¬ì„± ê°€ëŠ¥í•œ ì´ë¡ ì  ìµœëŒ€ ì„±ëŠ¥ í™•ì¸.
    - **e1 (Leakage-Safe)**: `days_since_last_payment` ë“± ì •ë‹µê³¼ ì§ê²°ë˜ëŠ” ìƒíƒœ ë³€ìˆ˜ ì œê±°. ë¯¸ë˜ ì •ë³´ ì˜ì¡´ì„± ê²€ì¦.
    - **e2 (Logs-only)**: ê²°ì œ(Transaction) ì •ë³´ë¥¼ ëª¨ë‘ ì œê±°í•˜ê³  ì˜¤ì§ í–‰ë™ ë¡œê·¸ë§Œ ì‚¬ìš©. ìˆœìˆ˜ í–‰ë™ ê¸°ë°˜ ì˜ˆì¸¡ë ¥ í™•ì¸.
    - **e2.1 (Conservative)**: e2ì— Leakage ë³€ìˆ˜ê¹Œì§€ ì œê±°. ê°€ì¥ ë³´ìˆ˜ì ì¸ ì •ë³´ í™˜ê²½ì—ì„œì˜ ì„±ëŠ¥ í•˜í•œì„  í™•ì¸.
    - **e3 (Short-term)**: ì¥ê¸°(w30) ìœˆë„ìš° ì œê±°. ë‹¨ê¸° í–‰ë™ ì •ë³´ë§Œìœ¼ë¡œì˜ ì˜ˆì¸¡ ê°€ëŠ¥ì„± ê²€ì¦.
    - **e3.1 (Robustness)**: ìµœì•…ì˜ ì¡°ê±´(w30 Off + Logs-only). ì‹œìŠ¤í…œ ì•…ì¡°ê±´ì—ì„œë„ ê²¬ë”œ ìˆ˜ ìˆëŠ” ëª¨ë¸ì˜ Robustness ê²€ì¦.
- **ê²°ê³¼**: CatBoostëŠ” ì •ë³´ê°€ ì œê±°ë¨ì— ë”°ë¼ ì„±ëŠ¥ì´ ì™„ë§Œí•˜ê²Œ í•˜ë½(Gradient Drop)í•˜ì—¬ ê°€ì¥ ê°•ê±´í•œ(Robust) ëª¨ë¸ë¡œ ì„ ì •ë¨. (XGBoostëŠ” e2ì—ì„œ ê¸‰ë½)

#### ì‹¤í—˜ ê²°ê³¼ ìš”ì•½ (Experiment Summary)
> ëª¨ë¸ë³„ ì„±ëŠ¥ ë³€í™” (Delta vs Baseline e0)

![Experiment Summary](docs/images/experiment_summary.png)

ìœ„ ê·¸ë¦¼ì€ Baseline(e0) ëŒ€ë¹„ ê° ëª¨ë¸ì˜ ì‹¤í—˜ ë‹¨ê³„ë³„ ì„±ëŠ¥ ë³€í™”(í‰ê· )ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. CatBoostëŠ” ì „ë°˜ì ìœ¼ë¡œ ì•ˆì •ì ì¸ ì„±ëŠ¥ ìœ ì§€(Accuracy, Recall)ì™€ ë†’ì€ ì¬í˜„ìœ¨ì„ ë³´ì—¬ ìµœì¢… ëª¨ë¸ë¡œ ì„ ì •ë˜ì—ˆìŠµë‹ˆë‹¤.

### 4. í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ (Hyperparameter Tuning with Optuna)
- **ë„êµ¬**: **Optuna** (Bayesian Optimization Framework)
- **ëª©ì **: ë¶ˆê· í˜• ë°ì´í„°(Imbalanced Data)ì—ì„œ ì´íƒˆì(Class 1)ë¥¼ ì˜ ì°¾ì•„ë‚´ê¸° ìœ„í•œ **F1-Score ê·¹ëŒ€í™”**.
- **íŠœë‹ ì ˆì°¨**:
    1. **Search Space ì„¤ì •**: `learning_rate` (Log scale), `depth` (4~10), `l2_leaf_reg` (Regularization), `random_strength` (Noise for robustness) ë“±.
    2. **Objective Function**: `scale_pos_weight` ë“± í´ë˜ìŠ¤ ê°€ì¤‘ì¹˜ë¥¼ ì ìš©í•œ í›„, ê²€ì¦ ì…‹(Validation Set)ì˜ F1-Scoreë¥¼ ìµœì í™” ëª©í‘œë¡œ ì„¤ì •.
    3. **Best Params ì„ ì •**: ì•½ 2,000~3,000íšŒì˜ Iteration ë‚´ì—ì„œ ì¡°ê¸° ì¢…ë£Œ(Early Stopping)ë¥¼ ì ìš©í•˜ì—¬ ìµœì  íŒŒë¼ë¯¸í„° íƒìƒ‰.
    4. **ê²°ê³¼ ì ìš©**: V4 ë° V5.2 ëª¨ë¸ ê°ê°ì— ëŒ€í•´ ë³„ë„ì˜ ìµœì  íŒŒë¼ë¯¸í„° ì„¸íŠ¸ë¥¼ ë„ì¶œí•˜ì—¬ ì ìš© (Metadata JSON ì €ì¥).

### 5. ëª¨ë¸ í•™ìŠµ ë° ìš´ì˜ ì „ëµ (Final Model Training & Strategy)
- ì •ì˜ëœ íŒŒìƒë³€ìˆ˜(Feature)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, **user_logsì˜ í–‰ë™ ë°ì´í„°ë¥¼ ë¹„ì¤‘ ìˆê²Œ ë°˜ì˜**í•˜ê¸° ìœ„í•´ ë‘ ê°€ì§€ íŠ¸ë™ìœ¼ë¡œ ëª¨ë¸ì„ í•™ìŠµì‹œì¼°ìŠµë‹ˆë‹¤.

| ëª¨ë¸ | ì •ì˜ (Definition) | í™œìš© (Usage) |
| :--- | :--- | :--- |
| **V4 (Main)** | **History + Behavior + Status**. ëª¨ë“  ì •ë³´ë¥¼ í™œìš©í•˜ì—¬ í˜„ì¬ ì´íƒˆ í™•ë¥ ì„ ì •ë°€ ì˜ˆì¸¡. | **í™•ì •ì  ì´íƒˆ ë°©ì–´**. ì´ë¯¸ ê°±ì‹ ì„ í•´ì§€í–ˆê±°ë‚˜ ì§•í›„ê°€ ëšœë ·í•œ ê³ ìœ„í—˜êµ°ì—ê²Œ ì¦‰ê°ì ì¸ ì˜¤í¼(ì¿ í° ë“±) ì œê³µ. (High Precision) |
| **V5.2 (Behavior)** | **History + Behavior + Trends**. ê²°ì œ ìƒíƒœ(Status)ë¥¼ **ê°•ì œë¡œ ê°€ë¦¬ê³ (Masking)** í•™ìŠµ. | **ì ì¬ì  ì´íƒˆ íƒì§€**. êµ¬ë…ì€ ìœ ì§€ ì¤‘ì´ë‚˜ í™œë™ì´ ê¸‰ê°í•˜ëŠ” ë“± 'ë§ˆìŒì´ ë– ë‚œ' ìœ ì €ë¥¼ ì¡°ê¸°ì— í¬ì°©í•˜ì—¬ Engagement ìœ ë„. (Early Warning) |

> **ğŸ’¡ ì™œ ë‘ ê°œì˜ ëª¨ë¸ì„ ì“°ë‚˜ìš”? (Two-Track Strategy)**
> ê²°ì œ ë§Œë£Œê°€ ì„ë°•í•˜ê±°ë‚˜ í•´ì§€í•œ ì‚¬ìš©ì(Active Churn)ë¿ë§Œ ì•„ë‹ˆë¼, **ì•„ì§ ëˆì€ ë‚´ê³  ìˆì§€ë§Œ ë§ˆìŒì€ ë– ë‚œ ì‚¬ìš©ì(Silent Churn)ë¥¼ ë†“ì¹˜ì§€ ì•Šê¸° ìœ„í•¨**ì…ë‹ˆë‹¤. ì´ ë‘ ëª¨ë¸ì˜ ì‹œë„ˆì§€ë¥¼ í†µí•´ ë¹ˆí‹ˆì—†ëŠ” ì´íƒˆ ê´€ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

#### í•™ìŠµ ìŠ¤í¬ë¦½íŠ¸ ìš”ì•½ (Training Scripts Fact Sheet)
ê° ëª¨ë¸ì˜ í•™ìŠµ ì½”ë“œëŠ” `src/modeling/`ì— ìœ„ì¹˜í•˜ë©°, ê³µí†µì ìœ¼ë¡œ **Optuna**ë¥¼ ì‚¬ìš©í•´ F1-Scoreë¥¼ ìµœì í™”í•©ë‹ˆë‹¤.

- **[V4 í•™ìŠµ] `src/modeling/train_catboost_v4.py`**
    - **ë°ì´í„°**: `kkbox_train_feature_v4.parquet` (Full Features)
    - **íŠ¹ì§•**: `is_auto_renew_last`, `days_since_last_payment` ë“± **ëª¨ë“  ìƒíƒœ(Status) ë³€ìˆ˜ë¥¼ í¬í•¨**í•˜ì—¬ í•™ìŠµ.
    - **ì„¤ì •**: `auto_class_weights="Balanced"`ë¡œ ë¶ˆê· í˜• ë°ì´í„° ì²˜ë¦¬.

- **[V5.2 í•™ìŠµ] `src/modeling/train_catboost_v5_2.py`**
    - **ë°ì´í„°**: ë™ì¼í•œ V4 ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ë˜, **ì½”ë“œ ë ˆë²¨ì—ì„œ ìœ„í—˜ ë³€ìˆ˜(Unsafe Cols)ë¥¼ ê°•ì œë¡œ Drop** í›„ í•™ìŠµ.
    - **ì œê±° ë³€ìˆ˜ (Drop)**: `days_since_last_payment`, `days_since_last_cancel`, `is_auto_renew_last`, `last_plan_days`, `payment_count_last_30d/90d`.
    - **ëª©ì **: ìœ„ ë³€ìˆ˜ë“¤ì´ ì—†ì„ ë•Œ(ì¦‰, ê²°ì œ ìƒíƒœë¥¼ ëª¨ë¥¼ ë•Œ)ì˜ ìˆœìˆ˜ í–‰ë™ íŒ¨í„´ í•™ìŠµ.

### 6. ëŒ€ì‹œë³´ë“œ êµ¬ì¶• (Interactive Dashboard)
- **Streamlit**ì„ í™œìš©í•˜ì—¬ ì˜ˆì¸¡ ê²°ê³¼ì™€ ì£¼ìš” ì§€í‘œë¥¼ ì‹œê°í™”
- **ì£¼ìš” ê¸°ëŠ¥**:
    - Model Guideline
    - Model Explainability (Z-score ë¶„ì„ ë“± V5.2 ì£¼ìš” ë³€ìˆ˜ í•´ì„)
    - Risk Matrix
    - Marketing Simulator

---

## ğŸ“Š ë°ì´í„° ìŠ¤í‚¤ë§ˆ (Data Schema & Feature Summary)
ëª¨ë¸ í•™ìŠµì— í™œìš©ëœ í•µì‹¬ íŒŒìƒ ë³€ìˆ˜(Derived Features) ìš”ì•½ì…ë‹ˆë‹¤. (V4 Dataset ê¸°ì¤€)

### 1. ì´ë ¥ ë° í™˜ê²½ ë³€ìˆ˜ (History & Environment) - V4 Key Features
| ë³€ìˆ˜ëª… (Feature) | ì„¤ëª… (Description) | ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë¯¸ |
| :--- | :--- | :--- |
| `days_since_last_cancel` | ìµœê·¼ ì·¨ì†Œ ê²½ê³¼ì¼ | "ì´ì „ì— í•´ì§€í•œ ì ì´ ìˆëŠ”ê°€?" (ìŠµê´€ì  ì´íƒˆ) |
| `days_since_last_payment` | ê²°ì œ ê³µë°±ê¸° | "ë§ˆì§€ë§‰ ê²°ì œë¡œë¶€í„° ë©°ì¹ ì´ ì§€ë‚¬ëŠ”ê°€?" (ì´íƒˆ ì„ë°•) |
| `is_auto_renew_last` | ìë™ ê°±ì‹  ì—¬ë¶€ | "ìë™ ê°±ì‹ ì„ ì¼œë‘ì—ˆëŠ”ê°€?" (ê°€ì¥ ê°•ë ¥í•œ ë°©ì–´ì„ ) |
| `subscription_months` | êµ¬ë… ìœ ì§€ ê¸°ê°„ | "ì–¼ë§ˆë‚˜ ì˜¤ë˜ ì‚¬ìš©í•œ ì¶©ì„± ê³ ê°ì¸ê°€?" |

### 2. í–‰ë™ ë³€ìˆ˜ (User Behavior) - V5.2 Key Features
| ë³€ìˆ˜ëª… (Feature) | ì„¤ëª… (Description) | ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë¯¸ |
| :--- | :--- | :--- |
| `active_decay_rate` | í™œë™ ê°ì†Œìœ¨ | "í‰ì†Œ(30ì¼) ëŒ€ë¹„ ìµœê·¼(7ì¼) ì ‘ì†ì´ ì–¼ë§ˆë‚˜ ì¤„ì—ˆëŠ”ê°€?" |
| `listening_velocity` | ì²­ì·¨ ê°€ì†ë„ | "ìµœê·¼ 2ì£¼ê°„ ì²­ì·¨ ì‹œê°„ì´ ê¸‰ê²©íˆ ì¤„ì–´ë“¤ê³  ìˆëŠ”ê°€?" |
| `skip_passion_index` | ìŠ¤í‚µ ì—´ì •ë„ | "ê³¡ì„ ë“£ì§€ ì•Šê³  ë„˜ê¸°ëŠ” ë¹„ìœ¨ì´ ë¹„ì •ìƒì ìœ¼ë¡œ ë†’ì€ê°€?" |
| `last_active_gap` | ë§ˆì§€ë§‰ í™œë™ ê²½ê³¼ì¼ | "êµ¬ë…ì€ ë˜ì–´ ìˆëŠ”ë°, ì ‘ì†ì„ ì•ˆ í•œì§€ ë©°ì¹ ì§¸ì¸ê°€?" |

---
## í”„ë¡œì íŠ¸ êµ¬ì¡° (Directory Structure)

```bash
SKN22-2nd-2Team
â”œâ”€â”€ app.py                      # Streamlit Main App
â”œâ”€â”€ requirements.txt            # Project Dependencies
â”œâ”€â”€ data/                       # Data (Raw & Processed, Ignored in Git)
â”œâ”€â”€ notebooks/                  # Jupyter Notebooks
â”‚   â”œâ”€â”€ eda/                    # Exploratory Data Analysis
â”‚   â”œâ”€â”€ preprocessing/          # Data Preprocessing & Feature Engineering
â”‚   â””â”€â”€ modeling/               # Model Training & Experiments
â”œâ”€â”€ src/                        # Source Code
â”‚   â”œâ”€â”€ preprocessing/          # Preprocessing Logic Modules
â”‚   â””â”€â”€ modeling/               # Model Pipeline Modules
â”œâ”€â”€ pages/                      # Streamlit Pages
â”‚   â”œâ”€â”€ 2_Model_Guideline.py
â”‚   â”œâ”€â”€ 3_Model_Explainability.py
â”‚   â”œâ”€â”€ 4_Risk_Matrix.py
â”‚   â””â”€â”€ 5_Marketing_Simulator.py
â”œâ”€â”€ 01_preprocessing_report/    # Preprocessing Reports
â”œâ”€â”€ 02_training_report/         # Model Training Reports
â””â”€â”€ 03_trained_model/           # Model Artifacts & Reports
```

---

## ì„¤ì¹˜ ë° ì‹¤í–‰ (Installation & Usage)

### 1. ìš”êµ¬ ì‚¬í•­ (Requirements)
ë³¸ í”„ë¡œì íŠ¸ëŠ” Python 3.8+ í™˜ê²½ì—ì„œ ì‹¤í–‰ì„ ê¶Œì¥í•©ë‹ˆë‹¤.
í•„ìš”í•œ íŒ¨í‚¤ì§€ëŠ” `requirements.txt`ì— ëª…ì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```bash
pip install -r requirements.txt
```

### 2. ì‹¤í–‰ ë°©ë²• (Usage)
Streamlit ëŒ€ì‹œë³´ë“œë¥¼ ì‹¤í–‰í•˜ì—¬ ì‹œìŠ¤í…œì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
streamlit run app.py
```

---
